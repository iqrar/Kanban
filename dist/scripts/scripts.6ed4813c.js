"use strict";angular.module("kanbanApp",["as.sortable","ngAnimate","ngRoute","ngSanitize","ui.router"]).config(["$urlRouterProvider","$stateProvider",function(a,b){a.otherwise("/kanban"),b.state("home",{url:"/kanban",templateUrl:"views/kanban.html",controller:"KanbanCtrl"})}]),angular.module("kanbanApp").controller("KanbanCtrl",["$scope","$http",function(a,b){a.board={Pending:[{type:"Pending"}],Backlog:[{type:"Backlog"}],Development:[{type:"Development"}],Test:[{type:"Test"}],Deploy:[{type:"Deploy"}]},b.get("data.json").success(function(b){a.data=b,a.data.forEach(function(b){"Pending"===b.state?a.board.Pending.push(b):"Backlog"===b.state?a.board.Backlog.push(b):"Development"===b.state?a.board.Development.push(b):"Test"===b.state?a.board.Test.push(b):"Deploy"===b.state&&a.board.Deploy.push(b)})}),a.story={},a.createStory=function(){"Pending"===a.story.state?a.board.Pending.push(a.story):"Backlog"===a.story?a.board.Backlog.push(a.story):"Development"===a.story.state?a.board.Development.push(a.story):"Test"===a.story.state?a.board.Test.push(a.story):"Deploy"===a.story.state&&a.board.Deploy.push(a.story)},a.removeStroy=function(b,c,d){alert("Are you sure to delete"),"Pending"===c?a.board.Pending.splice(d,1):"Development"===c?a.board.Development.splice(d,1):"Backlog"===c?a.board.Backlog.splice(d,1):"Test"===c?a.board.Test.push(d,1):"Deploy"===c&&a.board.Deploy.splice(d,1)},a.sortableOptions={containment:"#sortable-container",scrollableContainer:"#sortable-container",dragEnd:function(a,b,c){var d=a.source.itemScope.modelValue,e=(d.id,a.dest.sortableScope.modelValue[0].type);d.state=e},accept:function(a,b){return"Backlog"===b.modelValue[0].type&&"Pending"===a.itemScope.modelValue.state||"Pending"===b.modelValue[0].type&&"Backlog"===a.itemScope.modelValue.state?!0:"Backlog"===b.modelValue[0].type&&"Backlog"===a.itemScope.modelValue.state||"Pending"===b.modelValue[0].type&&"Pending"===a.itemScope.modelValue.state?!0:"Development"===b.modelValue[0].type&&"Backlog"===a.itemScope.modelValue.state||"Backlog"===b.modelValue[0].type&&"Development"===a.itemScope.modelValue.state?!0:"Development"===b.modelValue[0].type&&"Development"===a.itemScope.modelValue.state||"Backlog"===b.modelValue[0].type&&"Backlog"===a.itemScope.modelValue.state?!0:"Development"===b.modelValue[0].type&&"Test"===a.itemScope.modelValue.state||"Test"===b.modelValue[0].type&&"Development"===a.itemScope.modelValue.state?!0:"Development"===b.modelValue[0].type&&"Development"===a.itemScope.modelValue.state||"Test"===b.modelValue[0].type&&"Test"===a.itemScope.modelValue.state?!0:"Deploy"===b.modelValue[0].type&&"Test"===a.itemScope.modelValue.state||"Test"===b.modelValue[0].type&&"Deploy"===a.itemScope.modelValue.state?!0:"Deploy"===b.modelValue[0].type&&"Deploy"===a.itemScope.modelValue.state||"Test"===b.modelValue[0].type&&"Test"===a.itemScope.modelValue.state?!0:void 0}}}]),angular.module("kanbanApp").run(["$templateCache",function(a){a.put("views/kanban.html",'<section> <!-- Board --> <div class="board"> <button class="btn btn-primary pull-right" data-toggle="modal" data-target="#create-story"> Create issues </button> <h3> My Kanban Board </h3> <article class="col-md-15"> <div id="sortable-container"> <div class="cover"> <h4>Pending</h4> <div class="sortable-row" as-sortable="sortableOptions" ng-model="board.Pending"> <div ng-repeat="item in board.Pending" as-sortable-item> <div ng-class="item.state === \'Pending\' ? \'note pending-status\': \'\' " as-sortable-item-handle> <p>{{item.title}}</p> <a ng-show="item.state === \'Pending\'" ng-click="removeStroy(item.id, item.state, $index)" class="close" data-dismiss="alert">&times;</a> </div> </div> </div> </div> </div></article> </div> <div class="board"> <article class="col-md-15"> <div class="cover"> <h4>Backlog</h4> <div class="sortable-row" as-sortable="sortableOptions" ng-model="board.Backlog"> <div ng-repeat="item in board.Backlog" as-sortable-item> <div ng-class="item.state === \'Backlog\' ? \'note log-status\': \'\' " as-sortable-item-handle> <p>{{item.title}}</p> <a ng-show="item.state === \'Backlog\'" ng-click="removeStroy(item.id, item.state,$index)" class="close" data-dismiss="alert">&times;</a> </div> </div> </div> </div> </article></div>   <div class="board"> <article class="col-md-15"> <div class="cover"> <h4>Development</h4> <div class="sortable-row" as-sortable="sortableOptions" ng-model="board.Development"> <div ng-repeat="item in board.Development" as-sortable-item> <div ng-class="item.state === \'Development\' ? \'note dev-status\': \'\' " as-sortable-item-handle> <p>{{item.title}}</p> <a ng-show="item.state === \'Development\'" ng-click="removeStroy(item.id, item.state, $index)" class="close" data-dismiss="alert">&times;</a> </div> </div> </div> </div> </article></div>   <div class="board"> <article class="col-md-15"> <div class="cover"> <h4> Test </h4> <div class="sortable-row" as-sortable="sortableOptions" ng-model="board.Test"> <div ng-repeat="item in board.Test" as-sortable-item> <div ng-class="item.state === \'Test\' ? \'note test-status\': \'\' " as-sortable-item-handle> <p>{{item.title}}</p> <a ng-show="item.state === \'Test\'" ng-click="removeStroy(item.id, item.state, $index)" class="close" data-dismiss="alert">&times;</a> </div> </div> </div> </div> </article></div>   <div class="board"> <article class="col-md-15"> <div class="cover"> <h4> Deploy </h4> <div class="sortable-row" as-sortable="sortableOptions" ng-model="board.Deploy"> <div ng-repeat="item in board.Deploy" as-sortable-item> <div ng-class="item.state === \'Deploy\' ? \'note deploy-status\': \'\' " as-sortable-item-handle> <p>{{item.title}}</p> <a ng-show="item.state === \'Deploy\'" ng-click="removeStroy(item.id, item.state, $index)" class="close" data-dismiss="alert">&times;</a> </div> </div> </div> </div> </article></div>   <!-- Modal --> <div id="create-story" class="modal fade" role="dialog"> <div class="modal-dialog"> <!-- Modal content--> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal">&times;</button> <h3 class="modal-title">Create issue</h3> </div> <div class="modal-body"> <div class="well"> <div class="form-group"> <label>Title</label> <input type="text" class="form-control" id="email" ng-model="story.title"> </div> <div class="form-group"> <label>User id</label> <input type="text" class="form-control" id="pwd" ng-model="story.user_id"> </div> <div class="form-group"> <label>State</label> <input list="browsers" class="form-control" ng-model="story.state"> <datalist id="browsers"> <option value="Pending"> <option value="Backlog"> <option value="Development"> <option value="Test"> <option value="Deploy"> </option></option></option></option></option></datalist> </div> </div> </div> <div class="modal-footer"> <button type="button" ng-click="createStory()" class="btn btn-primary" data-dismiss="modal">Create</button> <button type="button" class="btn btn-default" data-dismiss="modal">Close</button> </div> </div> </div> </div> </section>')}]);